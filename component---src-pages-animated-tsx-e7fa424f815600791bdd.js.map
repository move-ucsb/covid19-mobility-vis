{"version":3,"sources":["webpack://my-gatsby-site/./node_modules/@babel/runtime/helpers/defineProperty.js","webpack://my-gatsby-site/./node_modules/@babel/runtime/helpers/objectWithoutProperties.js","webpack://my-gatsby-site/./node_modules/lodash.debounce/index.js","webpack://my-gatsby-site/./node_modules/lodash.throttle/index.js","webpack://my-gatsby-site/./node_modules/@styled-icons/styled-icon/index.esm.js","webpack://my-gatsby-site/./node_modules/@styled-icons/bootstrap/PlayCircleFill/PlayCircleFill.esm.js","webpack://my-gatsby-site/./node_modules/@styled-icons/bootstrap/PauseCircleFill/PauseCircleFill.esm.js","webpack://my-gatsby-site/./node_modules/@styled-icons/boxicons-solid/SkipPreviousCircle/SkipPreviousCircle.esm.js","webpack://my-gatsby-site/./node_modules/@styled-icons/boxicons-solid/SkipNextCircle/SkipNextCircle.esm.js","webpack://my-gatsby-site/./node_modules/@styled-icons/remix-fill/Restart/Restart.esm.js","webpack://my-gatsby-site/./src/components/global/controls.tsx","webpack://my-gatsby-site/./src/contexts/mapsContext.tsx","webpack://my-gatsby-site/./node_modules/beautiful-react-hooks/esm/utils/geolocationStandardOptions.js","webpack://my-gatsby-site/./node_modules/beautiful-react-hooks/esm/_virtual/_rollupPluginBabelHelpers.js","webpack://my-gatsby-site/./node_modules/beautiful-react-hooks/esm/utils/isClient.js","webpack://my-gatsby-site/./node_modules/beautiful-react-hooks/esm/utils/isAPISupported.js","webpack://my-gatsby-site/./node_modules/beautiful-react-hooks/esm/useMediaQuery.js","webpack://my-gatsby-site/./node_modules/beautiful-react-hooks/esm/utils/safelyParseJson.js","webpack://my-gatsby-site/./node_modules/beautiful-react-hooks/esm/utils/isDevelopment.js","webpack://my-gatsby-site/./node_modules/beautiful-react-hooks/esm/useStorage.js","webpack://my-gatsby-site/./node_modules/beautiful-react-hooks/esm/useLocalStorage.js","webpack://my-gatsby-site/./node_modules/beautiful-react-hooks/esm/useSessionStorage.js","webpack://my-gatsby-site/./src/components/bivar/map2.tsx","webpack://my-gatsby-site/./src/components/bivar/timeline/slider.tsx","webpack://my-gatsby-site/./src/components/bivar/timeline/sliderWithEvents.tsx","webpack://my-gatsby-site/./src/components/bivar/timeline/mobileDisplay.tsx","webpack://my-gatsby-site/./src/components/bivar/timeline/timeline.tsx","webpack://my-gatsby-site/./src/components/bivar/timelinelegend.tsx","webpack://my-gatsby-site/./src/components/bivar/mapView2.tsx","webpack://my-gatsby-site/./src/components/bivar/table.tsx","webpack://my-gatsby-site/./src/pages/animated.tsx","webpack://my-gatsby-site/./src/utility/mapZoom.ts"],"names":["module","exports","obj","key","value","Object","defineProperty","enumerable","configurable","writable","__esModule","objectWithoutPropertiesLoose","source","excluded","i","target","getOwnPropertySymbols","sourceSymbolKeys","length","indexOf","prototype","propertyIsEnumerable","call","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","freeGlobal","g","freeSelf","self","root","Function","objectToString","toString","nativeMax","Math","max","nativeMin","min","now","Date","isObject","type","toNumber","isObjectLike","isSymbol","other","valueOf","replace","isBinary","test","slice","func","wait","options","lastArgs","lastThis","maxWait","result","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","TypeError","invokeFunc","time","args","thisArg","undefined","apply","leadingEdge","setTimeout","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","remainingWait","debounced","isInvoking","arguments","this","cancel","clearTimeout","flush","FUNC_ERROR_TEXT","debounce","ownKeys","object","enumerableOnly","keys","symbols","filter","sym","getOwnPropertyDescriptor","push","filterSVGProps","props","reduce","p","k","StyledIconBaseBase","ref","children","iconAttrs","iconViewBox","iconVerticalAlign","size","title","otherProps","iconProps","forEach","getOwnPropertyDescriptors","defineProperties","_objectSpread","viewBox","height","width","focusable","role","svgProps","StyledIconBase","withConfig","displayName","componentId","PlayCircleFill","d","PauseCircleFill","SkipPreviousCircle","SkipNextCircle","Restart","fill","ButtonArea","styled","week","setWeek","playing","setPlaying","onClick","MapsContext","createContext","Maps","states","topojson","countiesMap","features","counties","Provider","geoStandardOptions","create","enableHighAccuracy","timeout","maximumAge","freeze","Symbol","iterator","constructor","arr","Array","isArray","_arrayWithHoles","_arr","_n","_d","_e","_s","_i","next","done","err","_iterableToArrayLimit","o","minLen","_arrayLikeToArray","n","name","from","_unsupportedIterableToArray","_nonIterableRest","len","arr2","window","api","mediaQuery","console","warn","_useState2","useState","matchMedia","matches","isVerified","setIsVerified","useEffect","mediaQueryList","documentChangeHandler","addListener","removeListener","parseString","JSON","parse","e","process","storageName","concat","storageKey","defaultValue","stringify","storage","getItem","setValue","setItem","Container","Title","MapContainer","border","getStateFips","fips","Number","String","data","highlightedCounty","countySelector","MapSettings","weekNum","past","addState","stateSelector","selectedState","scale","translate","d3Container","useRef","useContext","projection","d3","map_path","map_g","current","attr","append","MapZoom","style","selectAll","enter","id","val","properties","getLast","curr","last","weeks","col","opac","pow","select","on","currentTarget","getAttribute","SliderBar","convertDate","split","year","month","day","nextDate","initial","getTime","showWeekNumber","months","dates","DatesContext","map","labels","getDate","x","domain","range","clamp","update","find","newDate","endDate","text","getMonth","slider","insert","invert","interrupt","event","Slider","events","parentNode","appendChild","cloneNode","remove","date","lab","TextArea","Text","MobileDisplay","showEvents","mobileMode","nationalEvents","TimeLineLegend","maxHeight","margin","xAxis","yAxis","pointData","w","c","ticks","ControlArea","ControlsContainer","ColdLegend","HotLegend","Legend","LegendContainer","TextContainer","Divider","Button","CheckBox","Row","MapView","selectedCounty","setSelectedCounty","setTime","setSelectedState","setPast","LisaContext","mapData","mapTitles","mapZoom","setMapZoom","setShowWeekNumber","setShowEvents","reset","zooming","m","currId","timer","setInterval","clearInterval","onChange","checked","htmlFor","OutsideContainer","MainTable","THead","THGroup","underLine","TH","TData","highlight","TRow","TBody","LegendAsterisk","Table","colSpan","query","render","allRawCsv","nodes","node","cm","cs","sm","ss","cmVec","cmVal","get","csVec","csVal","smVec","smVal","ssVec","ssVal","container","useMediaQuery","selectedPage","to","path","active","bounds","x0","y0","x1","y1","dx","dy","y","scaleNew","translateNew","transition","duration","clicked","stateId","classed"],"mappings":"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","file":"component---src-pages-animated-tsx-e7fa424f815600791bdd.js","sourcesContent":["function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var objectWithoutPropertiesLoose = require(\"./objectWithoutPropertiesLoose.js\");\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutProperties;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n/** Used as references for various `Number` constants. */\n\nvar NAN = 0 / 0;\n/** `Object#toString` result references. */\n\nvar symbolTag = '[object Symbol]';\n/** Used to match leading and trailing whitespace. */\n\nvar reTrim = /^\\s+|\\s+$/g;\n/** Used to detect bad signed hexadecimal string values. */\n\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n/** Used to detect binary string values. */\n\nvar reIsBinary = /^0b[01]+$/i;\n/** Used to detect octal string values. */\n\nvar reIsOctal = /^0o[0-7]+$/i;\n/** Built-in method references without a dependency on `root`. */\n\nvar freeParseInt = parseInt;\n/** Detect free variable `global` from Node.js. */\n\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n/** Detect free variable `self`. */\n\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n/** Used as a reference to the global object. */\n\nvar root = freeGlobal || freeSelf || Function('return this')();\n/** Used for built-in method references. */\n\nvar objectProto = Object.prototype;\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\n\nvar objectToString = objectProto.toString;\n/* Built-in method references for those with the same name as other `lodash` methods. */\n\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\n\nvar now = function now() {\n  return root.Date.now();\n};\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\n\n\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n\n  wait = toNumber(wait) || 0;\n\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time; // Start the timer for the trailing edge.\n\n    timerId = setTimeout(timerExpired, wait); // Invoke the leading edge.\n\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime; // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n\n    return lastCallTime === undefined || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;\n  }\n\n  function timerExpired() {\n    var time = now();\n\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    } // Restart the timer.\n\n\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined; // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n\n    return result;\n  }\n\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\n\n\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\n\n\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\n\n\nfunction isSymbol(value) {\n  return typeof value == 'symbol' || isObjectLike(value) && objectToString.call(value) == symbolTag;\n}\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\n\n\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n\n  if (isSymbol(value)) {\n    return NAN;\n  }\n\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? other + '' : other;\n  }\n\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return isBinary || reIsOctal.test(value) ? freeParseInt(value.slice(2), isBinary ? 2 : 8) : reIsBadHex.test(value) ? NAN : +value;\n}\n\nmodule.exports = debounce;","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n/** Used as references for various `Number` constants. */\n\nvar NAN = 0 / 0;\n/** `Object#toString` result references. */\n\nvar symbolTag = '[object Symbol]';\n/** Used to match leading and trailing whitespace. */\n\nvar reTrim = /^\\s+|\\s+$/g;\n/** Used to detect bad signed hexadecimal string values. */\n\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n/** Used to detect binary string values. */\n\nvar reIsBinary = /^0b[01]+$/i;\n/** Used to detect octal string values. */\n\nvar reIsOctal = /^0o[0-7]+$/i;\n/** Built-in method references without a dependency on `root`. */\n\nvar freeParseInt = parseInt;\n/** Detect free variable `global` from Node.js. */\n\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n/** Detect free variable `self`. */\n\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n/** Used as a reference to the global object. */\n\nvar root = freeGlobal || freeSelf || Function('return this')();\n/** Used for built-in method references. */\n\nvar objectProto = Object.prototype;\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\n\nvar objectToString = objectProto.toString;\n/* Built-in method references for those with the same name as other `lodash` methods. */\n\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\n\nvar now = function now() {\n  return root.Date.now();\n};\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\n\n\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n\n  wait = toNumber(wait) || 0;\n\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time; // Start the timer for the trailing edge.\n\n    timerId = setTimeout(timerExpired, wait); // Invoke the leading edge.\n\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime; // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n\n    return lastCallTime === undefined || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;\n  }\n\n  function timerExpired() {\n    var time = now();\n\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    } // Restart the timer.\n\n\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined; // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n\n    return result;\n  }\n\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\n\n\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\n\n\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\n\n\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\n\n\nfunction isSymbol(value) {\n  return typeof value == 'symbol' || isObjectLike(value) && objectToString.call(value) == symbolTag;\n}\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\n\n\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n\n  if (isSymbol(value)) {\n    return NAN;\n  }\n\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? other + '' : other;\n  }\n\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return isBinary || reIsOctal.test(value) ? freeParseInt(value.slice(2), isBinary ? 2 : 8) : reIsBadHex.test(value) ? NAN : +value;\n}\n\nmodule.exports = throttle;","import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport * as React from 'react';\nimport styled from 'styled-components';\nimport validProp from '@emotion/is-prop-valid';\n\nfunction isValidProp(key) {\n  return validProp(key);\n}\n\nfunction filterSVGProps(props) {\n  return Object.keys(props).reduce(function (p, k) {\n    if (isValidProp(k)) {\n      // hack to satisfy TypeScript complexity\n      ;\n      p[k] = props[k];\n    }\n\n    return p;\n  }, {});\n}\n\nvar StyledIconBaseBase = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var children = props.children,\n      iconAttrs = props.iconAttrs,\n      iconVerticalAlign = props.iconVerticalAlign,\n      iconViewBox = props.iconViewBox,\n      size = props.size,\n      title = props.title,\n      otherProps = _objectWithoutProperties(props, [\"children\", \"iconAttrs\", \"iconVerticalAlign\", \"iconViewBox\", \"size\", \"title\"]);\n\n  var iconProps = _objectSpread({\n    viewBox: iconViewBox,\n    height: props.height !== undefined ? props.height : size,\n    width: props.width !== undefined ? props.width : size,\n    'aria-hidden': title == null ? 'true' : undefined,\n    focusable: 'false',\n    role: title != null ? 'img' : undefined\n  }, iconAttrs);\n\n  var svgProps = filterSVGProps(otherProps);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({}, iconProps, svgProps, {\n    ref: ref\n  }), title && /*#__PURE__*/React.createElement(\"title\", {\n    key: \"icon-title\"\n  }, title), children);\n});\nexport var StyledIconBase = /*#__PURE__*/styled(StyledIconBaseBase).withConfig({\n  displayName: \"StyledIconBase\",\n  componentId: \"ea9ulj-0\"\n})([\"display:inline-block;vertical-align:\", \";overflow:hidden;\"], function (props) {\n  return props.iconVerticalAlign;\n});","import _extends from \"@babel/runtime/helpers/extends\";\nimport * as React from 'react';\nimport { StyledIconBase } from '@styled-icons/styled-icon';\nexport var PlayCircleFill = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var attrs = {\n    \"fill\": \"currentColor\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\"\n  };\n  return /*#__PURE__*/React.createElement(StyledIconBase, _extends({\n    iconAttrs: attrs,\n    iconVerticalAlign: \"middle\",\n    iconViewBox: \"0 0 16 16\"\n  }, props, {\n    ref: ref\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM6.79 5.093A.5.5 0 0 0 6 5.5v5a.5.5 0 0 0 .79.407l3.5-2.5a.5.5 0 0 0 0-.814l-3.5-2.5z\"\n  }));\n});\nPlayCircleFill.displayName = 'PlayCircleFill';\nexport var PlayCircleFillDimensions = {\n  height: 16,\n  width: 16\n};","import _extends from \"@babel/runtime/helpers/extends\";\nimport * as React from 'react';\nimport { StyledIconBase } from '@styled-icons/styled-icon';\nexport var PauseCircleFill = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var attrs = {\n    \"fill\": \"currentColor\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\"\n  };\n  return /*#__PURE__*/React.createElement(StyledIconBase, _extends({\n    iconAttrs: attrs,\n    iconVerticalAlign: \"middle\",\n    iconViewBox: \"0 0 16 16\"\n  }, props, {\n    ref: ref\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM6.25 5C5.56 5 5 5.56 5 6.25v3.5a1.25 1.25 0 1 0 2.5 0v-3.5C7.5 5.56 6.94 5 6.25 5zm3.5 0c-.69 0-1.25.56-1.25 1.25v3.5a1.25 1.25 0 1 0 2.5 0v-3.5C11 5.56 10.44 5 9.75 5z\"\n  }));\n});\nPauseCircleFill.displayName = 'PauseCircleFill';\nexport var PauseCircleFillDimensions = {\n  height: 16,\n  width: 16\n};","import _extends from \"@babel/runtime/helpers/extends\";\nimport * as React from 'react';\nimport { StyledIconBase } from '@styled-icons/styled-icon';\nexport var SkipPreviousCircle = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var attrs = {\n    \"fill\": \"currentColor\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\"\n  };\n  return /*#__PURE__*/React.createElement(StyledIconBase, _extends({\n    iconAttrs: attrs,\n    iconVerticalAlign: \"middle\",\n    iconViewBox: \"0 0 24 24\"\n  }, props, {\n    ref: ref\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10c5.515 0 10-4.486 10-10S17.515 2 12 2zm4 14l-6-4v4H8V8h2v4l6-4v8z\"\n  }));\n});\nSkipPreviousCircle.displayName = 'SkipPreviousCircle';\nexport var SkipPreviousCircleDimensions = {\n  height: 24,\n  width: 24\n};","import _extends from \"@babel/runtime/helpers/extends\";\nimport * as React from 'react';\nimport { StyledIconBase } from '@styled-icons/styled-icon';\nexport var SkipNextCircle = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var attrs = {\n    \"fill\": \"currentColor\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\"\n  };\n  return /*#__PURE__*/React.createElement(StyledIconBase, _extends({\n    iconAttrs: attrs,\n    iconVerticalAlign: \"middle\",\n    iconViewBox: \"0 0 24 24\"\n  }, props, {\n    ref: ref\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm4 14h-2v-4l-6 4V8l6 4V8h2v8z\"\n  }));\n});\nSkipNextCircle.displayName = 'SkipNextCircle';\nexport var SkipNextCircleDimensions = {\n  height: 24,\n  width: 24\n};","import _extends from \"@babel/runtime/helpers/extends\";\nimport * as React from 'react';\nimport { StyledIconBase } from '@styled-icons/styled-icon';\nexport var Restart = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var attrs = {\n    \"fill\": \"currentColor\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\"\n  };\n  return /*#__PURE__*/React.createElement(StyledIconBase, _extends({\n    iconAttrs: attrs,\n    iconVerticalAlign: \"middle\",\n    iconViewBox: \"0 0 24 24\"\n  }, props, {\n    ref: ref\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"none\",\n    d: \"M0 0h24v24H0z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm4.82-4.924a7 7 0 10-1.852 1.266l-.975-1.755A5 5 0 1117 12h-3l2.82 5.076z\"\n  }));\n});\nRestart.displayName = 'Restart';\nexport var RestartDimensions = {\n  height: 24,\n  width: 24\n};","import React from \"react\";\nimport styled from \"styled-components\";\n\nimport { PlayCircleFill } from \"@styled-icons/bootstrap/PlayCircleFill\";\nimport { PauseCircleFill } from \"@styled-icons/bootstrap/PauseCircleFill\";\nimport { SkipPreviousCircle } from \"@styled-icons/boxicons-solid/SkipPreviousCircle\";\nimport { SkipNextCircle } from \"@styled-icons/boxicons-solid/SkipNextCircle\";\nimport { Restart } from \"@styled-icons/remix-fill/Restart\";\n\nconst ButtonArea = styled.div`\n  display: flex;\n  width: 100%;\n  justify-content: center;\n\n  * {\n    margin: 5px 10px;\n  }\n\n  & > *:hover {\n    cursor: pointer;\n  }\n`;\n\ntype Props = {\n  week: number;\n  setWeek: (number) => void;\n  playing: boolean;\n  setPlaying: (b: boolean) => void;\n  max: number;\n  min: number\n};\n\nconst Controls = ({ week, setWeek, playing, setPlaying, max, min=0 }: Props) => {\n  return (\n    <ButtonArea>\n      {/* LEFT BUTTON */}\n      <SkipPreviousCircle\n        size=\"30px\"\n        onClick={() => {\n          if (week > min) {\n            setWeek(week - 1);\n          }\n          setPlaying(false);\n        }}\n      />\n\n      {/* MIDDLE BUTTON */}\n      {week === max ? (\n        <Restart\n          size=\"30px\"\n          onClick={() => {\n            setWeek(min);\n            setPlaying(false);\n          }}\n        />\n      ) : playing ? (\n        <PauseCircleFill\n          size=\"30px\"\n          onClick={() => {\n            setPlaying(false);\n          }}\n        />\n      ) : (\n        <PlayCircleFill\n          size=\"30px\"\n          onClick={() => {\n            setPlaying(true);\n          }}\n        />\n      )}\n      \n      {/* RIGHT BUTTON */}\n      <SkipNextCircle\n        size=\"30px\"\n        onClick={() => {\n          if (week < max) {\n            setWeek(week + 1);\n          }\n          setPlaying(false);\n        }}\n      />\n    </ButtonArea>\n  );\n};\n\nexport default Controls;\n","import React, { createContext } from \"react\";\n\nimport * as d3 from \"d3\";\nimport * as topojson from \"topojson\";\n\nimport countiesMap from \"us-atlas/counties-10m.json\";\n\nexport const MapsContext = createContext(null);\n\nexport const Maps = ({ children }) => {\n\n  const states = topojson.feature(countiesMap, countiesMap.objects.states).features\n  const counties = topojson.feature(countiesMap, countiesMap.objects.counties).features\n\n  return (\n    <MapsContext.Provider value={{ states, counties }}>\n      {children}\n    </MapsContext.Provider>\n  );\n};\n","/* beautiful-react-hooks version: 0.31.1 */\nvar geoStandardOptions = Object.create(null);\ngeoStandardOptions.enableHighAccuracy = false;\ngeoStandardOptions.timeout = 0xFFFFFFFF;\ngeoStandardOptions.maximumAge = 0;\nvar geolocationStandardOptions = Object.freeze(geoStandardOptions);\nexport default geolocationStandardOptions;","/* beautiful-react-hooks version: 0.31.1 */\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nexport { _arrayLikeToArray as arrayLikeToArray, _arrayWithHoles as arrayWithHoles, _defineProperty as defineProperty, _iterableToArrayLimit as iterableToArrayLimit, _nonIterableRest as nonIterableRest, _objectSpread2 as objectSpread2, _slicedToArray as slicedToArray, _typeof as typeof, _unsupportedIterableToArray as unsupportedIterableToArray };","/* beautiful-react-hooks version: 0.31.1 */\nimport { typeof as _typeof } from '../_virtual/_rollupPluginBabelHelpers.js';\nvar isClient = (typeof window === \"undefined\" ? \"undefined\" : _typeof(window)) === 'object';\nexport default isClient;","/* beautiful-react-hooks version: 0.31.1 */\nvar isApiSupported = function isApiSupported(api) {\n  return typeof window !== 'undefined' ? api in window : false;\n};\n\nexport default isApiSupported;","/* beautiful-react-hooks version: 0.31.1 */\nimport { slicedToArray as _slicedToArray } from './_virtual/_rollupPluginBabelHelpers.js';\nimport { useState, useEffect } from 'react';\nimport isClient from './utils/isClient.js';\nimport isApiSupported from './utils/isAPISupported.js';\nvar errorMessage = 'matchMedia is not supported, this could happen both because window.matchMedia is not supported by' + ' your current browser or you\\'re using the useMediaQuery hook whilst server side rendering.';\n\nvar useMediaQuery = function useMediaQuery(mediaQuery) {\n  if (!isClient || !isApiSupported('matchMedia')) {\n    console.warn(errorMessage);\n    return null;\n  }\n\n  var _useState = useState(!!window.matchMedia(mediaQuery).matches),\n      _useState2 = _slicedToArray(_useState, 2),\n      isVerified = _useState2[0],\n      setIsVerified = _useState2[1];\n\n  useEffect(function () {\n    var mediaQueryList = window.matchMedia(mediaQuery);\n\n    var documentChangeHandler = function documentChangeHandler() {\n      return setIsVerified(!!mediaQueryList.matches);\n    };\n\n    mediaQueryList.addListener(documentChangeHandler);\n    documentChangeHandler();\n    return function () {\n      mediaQueryList.removeListener(documentChangeHandler);\n    };\n  }, [mediaQuery]);\n  return isVerified;\n};\n\nexport default useMediaQuery;","/* beautiful-react-hooks version: 0.31.1 */\nvar safelyParseJson = function safelyParseJson(parseString) {\n  try {\n    return JSON.parse(parseString);\n  } catch (e) {\n    return null;\n  }\n};\n\nexport default safelyParseJson;","/* beautiful-react-hooks version: 0.31.1 */\nvar isDevelopment = typeof process !== 'undefined' && process.env && (!process.env.NODE_ENV || process.env.NODE_ENV === 'development');\nexport default isDevelopment;","/* beautiful-react-hooks version: 0.31.1 */\nimport { slicedToArray as _slicedToArray } from './_virtual/_rollupPluginBabelHelpers.js';\nimport { useState, useEffect } from 'react';\nimport safelyParseJson from './utils/safelyParseJson.js';\nimport isClient from './utils/isClient.js';\nimport isApiSupported from './utils/isAPISupported.js';\nimport isDevelopment from './utils/isDevelopment.js';\n\nvar useStorage = function useStorage(type) {\n  var storageName = \"\".concat(type, \"Storage\");\n\n  if (isClient && !isApiSupported(storageName)) {\n    console.warn(\"\".concat(storageName, \" is not supported\"));\n  }\n\n  return function (storageKey, defaultValue) {\n    if (!isClient) {\n      if (isDevelopment) {\n        console.warn(\"Please be aware that \".concat(storageName, \" could not be available during SSR\"));\n      }\n\n      return [JSON.stringify(defaultValue), function () {\n        return undefined;\n      }];\n    }\n\n    var storage = window[storageName];\n\n    var _useState = useState(safelyParseJson(storage.getItem(storageKey) || JSON.stringify(defaultValue))),\n        _useState2 = _slicedToArray(_useState, 2),\n        value = _useState2[0],\n        setValue = _useState2[1];\n\n    useEffect(function () {\n      storage.setItem(storageKey, JSON.stringify(value));\n    }, [storageKey, value]);\n    return [value, setValue];\n  };\n};\n\nexport default useStorage;","/* beautiful-react-hooks version: 0.31.1 */\nimport useStorage from './useStorage.js';\nvar useLocalStorage = useStorage('local');\nexport default useLocalStorage;","/* beautiful-react-hooks version: 0.31.1 */\nimport useStorage from './useStorage.js';\nvar useSessionStorage = useStorage('session');\nexport default useSessionStorage;","import React, { useRef, useEffect, useState, useContext } from \"react\";\nimport styled from \"styled-components\";\n\nimport * as d3 from \"d3\";\nimport * as topojson from \"topojson\";\n\nimport Sparse from \"../../utility/sparse\";\nimport MapZoom from \"../../utility/mapZoom\";\n\nimport { MapsContext } from \"../../contexts/mapsContext\";\n\nimport countiesMap from \"us-atlas/counties-10m.json\";\n\nconst Container = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: column;\n  align-items: center;\n  margin: 10px 20px;\n\n  @media (max-width: 830px) {\n    margin: 10px 5px;\n  }\n  @media (max-width: 700px) {\n    margin: 0;\n  }\n`;\n\nconst Title = styled.h3`\n  margin: 0;\n`;\n\nconst MapContainer = styled.svg`\n  g {\n    background-color: light-gray;\n  }\n  border: 1px solid\n    ${({ border }: { border: boolean }) => (border ? \"black\" : \"white\")};\n  // background-color: #f5f5f5;\n`;\n\ntype MapData = Array<Sparse>;\n\ntype MapSettings = {\n  width: number;\n  height: number;\n  translate: [number, number];\n  scale: number;\n};\n\ninterface Props {\n  title: string;\n  highlightedCounty: [number, string];\n  countySelector: ([s, s1]: [number, string]) => void;\n  data: MapData;\n  time: [number, number];\n  MapSettings: MapSettings;\n  weekNum: number;\n  past: boolean;\n  addState: (m: MapZoom) => void;\n  stateSelector: ([a, b]: [number, string]) => void;\n  selectedState: [number, string];\n  children: any;\n}\n\nconst getStateFips = (fips: number): number => {\n  return Number(String(fips).slice(0, -3));\n};\nconst Map = ({\n  title,\n  highlightedCounty,\n  countySelector,\n  data,\n  time,\n  MapSettings,\n  weekNum,\n  past,\n  addState,\n  stateSelector,\n  selectedState,\n  children,\n}: Props) => {\n  const { scale, translate, width, height } = MapSettings;\n\n  const d3Container = useRef(null);\n\n  const { counties, states } = useContext(MapsContext);\n  useEffect(() => {\n    const projection = d3.geoAlbers().scale(scale).translate(translate);\n    const map_path = d3.geoPath().projection(projection);\n\n    const map_g = d3\n      .select(d3Container.current)\n      .attr(\"width\", width)\n      .attr(\"height\", height)\n      .append(\"g\");\n\n    addState(new MapZoom(map_path, map_g, width, height, selectedState[0]));\n\n    // States:\n    map_g\n      .append(\"g\")\n      .style(\"stroke\", \"black\")\n      .style(\"stroke-width\", \"0.5px\")\n      .style(\"fill\", \"#ffffffff\")\n      .selectAll(\"path\")\n      .data(states)\n      .enter()\n      .append(\"path\")\n      .attr(\"d\", map_path as any)\n      .attr(\"stateFips\", ({ id }) => Number(id));\n\n    // Counties:\n    map_g\n      .append(\"g\")\n      .selectAll(\"path\")\n      .data(counties)\n      .enter()\n      .append(\"path\")\n      .attr(\"d\", map_path as any)\n      .attr(\"stateName\", ({ id }) => {\n        return countiesMap.objects.states.geometries.find((val) => {\n          return getStateFips(id) === Number(val.id);\n        }).properties.name;\n      })\n      .attr(\"id\", ({ id }) => `c${Number(id)}`)\n      //   .attr(\"countyName\", ({ properties: { name } }) => name)\n      .attr(\"class\", \"cboundary\")\n      .style(\"fill\", \"#00000000\");\n    // .style(\"stroke-width\", 0)\n    // .style(\"stroke\", \"#FFFFFF00\")\n  }, []);\n\n  useEffect(() => {\n    data.forEach((d) => {\n      const { curr, last, weeks } = d.getLast(weekNum);\n\n      let col = \"#00000000\",\n        opac = 1;\n\n      if (!past && curr !== 0) {\n        col = curr === 1 ? \"#fa5a50\" : \"#5768ac\";\n      } else if (past) {\n        col = (curr !== 0 && curr === 1) || last === 1 ? \"#fa5a50\" : \"#5768ac\";\n\n        // this is just the last week number, not number since last weeks so we can change calculation back\n        opac = curr\n          ? 1\n          : ((weekNum - weeks + 1) / (weekNum + 1)) * Number(last !== -1);\n      }\n\n      // Reduce opacity for states taht aren't selected\n      opac *= Math.pow(\n        1 / 4,\n        1 -\n          Number(\n            getStateFips(d.fips) === selectedState[0] || selectedState[0] === -1\n          )\n      );\n\n      const sel = d3.select(d3Container.current).select(`#c${d.fips}`);\n\n      sel\n        .style(\"fill\", col)\n        .style(\"fill-opacity\", opac)\n    });\n  }, [weekNum, past, selectedState]);\n\n  useEffect(() => {\n    d3.select(d3Container.current)\n      .selectAll(\".cboundary\")\n      .on(\"click\", function ({ currentTarget }, { id }) {\n        stateSelector([\n          getStateFips(id),\n          currentTarget.getAttribute(\"stateName\"),\n        ]);\n      });\n    // .style(\"fill-opacity\", function( { id }){\n    //   return getStateFips(id) === selectedState[0] || selectedState[0] === -1 ? \"1\" : \"0.3\"\n    // })\n  }, [selectedState]);\n\n  return (\n    <Container>\n      <Title>{title}</Title>\n      <MapContainer ref={d3Container} border={selectedState[0] !== -1} />\n      {children}\n    </Container>\n  );\n};\n\nexport default Map;\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\nimport styled from \"styled-components\";\n\nimport * as d3 from \"d3\";\n\nimport { DatesContext } from \"../../../contexts/datesContext\";\n\nconst SliderBar = styled.svg`\n  width: 760px;\n  height: 100px;\n`;\n\ntype Props = {\n  week: number;\n  setWeek: (number) => void;\n  setPlaying: (b: boolean) => void;\n  showWeekNumber: boolean;\n  events: Array<{ date: string; lab: string }>;\n};\n\nconst convertDate = (d: string): Date => {\n  const [year, month, day] = d.split('-')\n  return new Date(+year, month - 1, +day);\n};\nconst nextDate = (initial: Date, n: number) => {\n  return new Date(initial.getTime() + 24 * 60 * 60 * 1000 * n);\n};\n\nconst Slider = ({ week, setWeek, setPlaying, showWeekNumber }: Props) => {\n  const months = [\n    \"Jan\",\n    \"Feb\",\n    \"Mar\",\n    \"Apr\",\n    \"May\",\n    \"Jun\",\n    \"Jul\",\n    \"Aug\",\n    \"Sep\",\n    \"Oct\",\n    \"Nov\",\n    \"Dec\",\n  ];\n  const d3Container = useRef(null);\n\n  const dates = useContext(DatesContext).map((d) => convertDate(d));\n\n  // 2020 was a leap year...\n  const labels = [...Array(365).keys()]\n    .map((i) => {\n      return { d: nextDate(dates[0], i), i };\n    })\n    .filter(({ d }) => {\n      return d.getDate() === 1;\n    });\n\n  const x = d3\n    .scaleTime()\n    .domain([dates[0], dates[dates.length - 1]])\n    .range([0, 600])\n    .clamp(true);\n\n  const update = (val: Date | number) => {\n    let i: number;\n\n    if (val instanceof Date) {\n      i = [...Array(dates.length).keys()].find((i) => {\n        return (\n          dates[i] > val ||\n          i === dates.length - 1 ||\n          (dates[i] >= val && i === 0)\n        );\n      });\n      setWeek(i);\n    } else {\n      i = val;\n    }\n\n    const newDate = dates[i];\n    const endDate =\n      i + 1 < dates.length\n        ? nextDate(dates[i + 1], -1)\n        : convertDate(\"2020-12-27\");\n\n    d3.select(d3Container.current).select(\"#handle\").attr(\"cx\", x(newDate));\n    d3.select(d3Container.current)\n      .select(\"#label\")\n      .attr(\"x\", x(newDate))\n      .text(\n        `${newDate.getMonth() + 1}/${newDate.getDate()} - ${\n          endDate.getMonth() + 1\n        }/${endDate.getDate()}`\n      );\n  };\n\n  useEffect(() => {\n    const svg = d3\n      .select(d3Container.current)\n      .append(\"svg\")\n      .attr(\"width\", 760)\n      .attr(\"height\", 100);\n\n    const slider = svg\n      .append(\"g\")\n      .attr(\"transform\", \"translate(80, 50)\")\n      .attr(\"id\", \"slider\");\n\n    slider\n      .insert(\"g\")\n      .selectAll(\"text\")\n      .data(labels)\n      .enter()\n      .append(\"text\")\n      .attr(\"x\", ({ d }) => x(d))\n      .attr(\"y\", 30)\n      .attr(\"text-anchor\", \"middle\")\n      .text(({ d }) => months[d.getMonth()]);\n\n    slider\n      .append(\"text\")\n      .attr(\"x\", x(x.invert(600)))\n      .attr(\"y\", 30)\n      .text(\"2020\");\n\n    slider\n      .append(\"text\")\n      .attr(\"id\", \"weekLabel\")\n      .attr(\"x\", -75)\n      .attr(\"y\", 0)\n      .text(\"Week\");\n\n    slider\n      .append(\"text\")\n      .attr(\"x\", -55)\n      .attr(\"y\", 15)\n      .attr(\"id\", \"weekCounter\")\n      .text(\"0/52\")\n      .attr(\"text-anchor\", \"middle\");\n\n    const handle = slider.insert(\"circle\").attr(\"id\", \"handle\").attr(\"r\", 9);\n\n    const label = slider\n      .append(\"text\")\n      .attr(\"id\", \"label\")\n      .attr(\"text-anchor\", \"middle\")\n      .attr(\"transform\", \"translate(0,-20)\");\n\n    slider\n      .append(\"line\")\n      .attr(\"stroke\", \"black\")\n      .attr(\"stroke-width\", \"10px\")\n      .attr(\"stroke-opacity\", 0.3)\n      .attr(\"stroke-linecap\", \"round\")\n      .attr(\"x1\", x.range()[0])\n      .attr(\"x2\", x.range()[1])\n      .call(\n        d3\n          .drag()\n          .on(\"start.interrupt\", () => slider.interrupt())\n          .on(\"start drag\", (event) => {\n            setPlaying(false);\n            update(x.invert(event.x));\n          })\n      )\n      .style(\"cursor\", \"pointer\");\n  }, []);\n\n  useEffect(() => {\n    update(week);\n    d3.select(d3Container.current)\n      .select(\"#weekCounter\")\n      .text(`${week + 1}/52`);\n  }, [week]);\n\n  useEffect(() => {\n    d3.select(d3Container.current)\n      .select(\"#weekCounter\")\n      .style(\"fill-opacity\", showWeekNumber ? 1 : 0);\n    d3.select(d3Container.current)\n      .select(\"#weekLabel\")\n      .style(\"fill-opacity\", showWeekNumber ? 1 : 0);\n  }, [showWeekNumber]);\n\n  return <SliderBar ref={d3Container} />;\n};\n\nexport default Slider;\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\nimport styled from \"styled-components\";\n\nimport * as d3 from \"d3\";\n\nimport { DatesContext } from \"../../../contexts/datesContext\";\n\nconst Slider = styled.svg`\n  width: 760px;\n  height: 150px;\n`;\n\ntype Props = {\n  week: number;\n  setWeek: (number) => void;\n  setPlaying: (b: boolean) => void;\n  showWeekNumber: boolean;\n  events: Array<{ date: string; lab: string }>;\n};\n\nconst convertDate = (d: string): Date => {\n  const [year, month, day] = d.split('-')\n  return new Date(+year, month - 1, +day);\n};\nconst nextDate = (initial: Date, n: number) => {\n  return new Date(initial.getTime() + 24 * 60 * 60 * 1000 * n);\n};\n\nconst SliderWithEvents = ({\n  week,\n  setWeek,\n  setPlaying,\n  events,\n  showWeekNumber,\n}: Props) => {\n  const months = [\n    \"Jan\",\n    \"Feb\",\n    \"Mar\",\n    \"Apr\",\n    \"May\",\n    \"Jun\",\n    \"Jul\",\n    \"Aug\",\n    \"Sep\",\n    \"Oct\",\n    \"Nov\",\n    \"Dec\",\n  ];\n\n  const dates = useContext(DatesContext).map((d) => convertDate(d));\n\n  // 2020 was a leap year...\n  const labels = [...Array(365).keys()]\n    .map((i) => {\n      return { d: nextDate(dates[0], i), i };\n    })\n    .filter(({ d }) => {\n      return d.getDate() === 1;\n    });\n\n  const d3Container = useRef(null);\n\n  const x = d3\n    .scaleTime()\n    .domain([dates[0], dates[dates.length - 1]])\n    .range([0, 600])\n    .clamp(true);\n\n  const update = (val: Date | number) => {\n    let i: number;\n\n    if (val instanceof Date) {\n      i = [...Array(dates.length).keys()].find((i) => {\n        return (\n          dates[i] > val ||\n          i === dates.length - 1 ||\n          (dates[i] >= val && i === 0)\n        );\n      });\n      setWeek(i);\n    } else {\n      i = val;\n    }\n\n    const newDate = dates[i];\n    const endDate =\n      i + 1 < dates.length\n        ? nextDate(dates[i + 1], -1)\n        : convertDate(\"2020-12-27\");\n\n    d3.select(d3Container.current).select(\"#handle\").attr(\"cx\", x(newDate));\n    d3.select(d3Container.current)\n      .select(\"#label\")\n      .attr(\"x\", x(newDate))\n      .text(\n        `${newDate.getMonth() + 1}/${newDate.getDate()} - ${\n          endDate.getMonth() + 1\n        }/${endDate.getDate()}`\n      );\n  };\n\n  useEffect(() => {\n    const svg = d3\n      .select(d3Container.current)\n      .append(\"svg\")\n      .attr(\"width\", 760)\n      .attr(\"height\", 150);\n\n    const slider = svg\n      .append(\"g\")\n      .attr(\"transform\", \"translate(80, 100)\")\n      .attr(\"id\", \"slider\");\n\n    slider\n      .insert(\"g\")\n      .selectAll(\"text\")\n      .data(labels)\n      .enter()\n      .append(\"text\")\n      .attr(\"x\", ({ d }) => x(d))\n      .attr(\"y\", 30)\n      .attr(\"text-anchor\", \"middle\")\n      .text(({ d }) => months[d.getMonth()]);\n\n    slider.append(\"g\").attr(\"id\", \"eventTitles\");\n    slider.append(\"g\").attr(\"id\", \"eventConnectors\");\n\n    slider\n      .append(\"text\")\n      .attr(\"x\", x(x.invert(600)))\n      .attr(\"y\", 30)\n      .text(\"2020\");\n\n    slider\n      .append(\"text\")\n      .attr(\"id\", \"weekLabel\")\n      .attr(\"x\", -75)\n      .attr(\"y\", 0)\n      .text(\"Week\");\n\n    slider\n      .append(\"text\")\n      .attr(\"x\", -55)\n      .attr(\"y\", 15)\n      .attr(\"id\", \"weekCounter\")\n      .text(\"0/52\")\n      .attr(\"text-anchor\", \"middle\");\n\n    const handle = slider.insert(\"circle\").attr(\"id\", \"handle\").attr(\"r\", 9);\n\n    const label = slider\n      .append(\"text\")\n      .attr(\"id\", \"label\")\n      .attr(\"text-anchor\", \"middle\")\n      .attr(\"transform\", \"translate(0,-20)\");\n\n    const labelBackground = slider.append(\"rect\").attr(\"id\", \"labelBackground\");\n\n    slider\n      .append(\"line\")\n      .attr(\"stroke\", \"black\")\n      .attr(\"stroke-width\", \"10px\")\n      .attr(\"stroke-opacity\", 0.3)\n      .attr(\"stroke-linecap\", \"round\")\n      .attr(\"x1\", x.range()[0])\n      .attr(\"x2\", x.range()[1])\n      .select(function () {\n        return this.parentNode.appendChild(this.cloneNode(true));\n      })\n      .attr(\"stroke-width\", \"100px\") // want this to overlap the text\n      .attr(\"stroke\", \"transparent\")\n      .call(\n        d3\n          .drag()\n          .on(\"start.interrupt\", () => slider.interrupt())\n          .on(\"start drag\", (event) => {\n            setPlaying(false);\n            update(x.invert(event.x));\n          })\n      );\n  }, []);\n\n  useEffect(() => {\n    d3.select(d3Container.current)\n      .select(\"#eventTitles\")\n      .selectAll(\"text\")\n      .remove();\n\n    d3.select(d3Container.current)\n      .select(\"#eventConnectors\")\n      .selectAll(\"line\")\n      .remove();\n\n    events.forEach(({ date, lab }) => {\n      d3.select(d3Container.current)\n        .select(\"#eventTitles\")\n        .append(\"text\")\n        .attr(\"fill-opacity\", convertDate(date) < dates[week] ? 1 : 0.2)\n        .attr(\"x\", x(convertDate(date)))\n        .attr(\"y\", -50)\n        .attr(\"text-anchor\", \"middle\")\n        .text(lab);\n\n      d3.select(d3Container.current)\n        .select(\"#eventConnectors\")\n        .append(\"line\")\n        .attr(\"stroke\", \"black\")\n        .attr(\"stroke-width\", \"1px\")\n        .attr(\n          \"stroke-opacity\",\n          convertDate(date) < dates[week]\n            ? nextDate(convertDate(date), 21) < dates[week]\n              ? 1\n              : 0.3\n            : 0.2\n        )\n        .attr(\"x1\", x(convertDate(date)))\n        .attr(\"x2\", x(convertDate(date)))\n        .attr(\"y1\", -15)\n        .attr(\"y2\", -40);\n    });\n  }, [week]);\n\n  useEffect(() => {\n    update(week);\n    d3.select(d3Container.current)\n      .select(\"#weekCounter\")\n      .text(`${week + 1}/52`);\n  }, [week]);\n\n  useEffect(() => {\n    d3.select(d3Container.current)\n      .select(\"#weekCounter\")\n      .style(\"fill-opacity\", showWeekNumber ? 1 : 0);\n    d3.select(d3Container.current)\n      .select(\"#weekLabel\")\n      .style(\"fill-opacity\", showWeekNumber ? 1 : 0);\n  }, [showWeekNumber]);\n  return <Slider ref={d3Container} />;\n};\n\nexport default SliderWithEvents;\n","import React, { useContext } from \"react\";\nimport styled from \"styled-components\";\nimport { DatesContext } from \"../../../contexts/datesContext\";\n\nconst TextArea = styled.div`\n  display: flex;\n  width: 100%;\n  flex-direction: column;\n  align-items: center;\n  margin: 5px 0;\n`;\n\nconst Text = styled.p`\n  margin: 5px 0;\n`;\nconst convertDate = (d: string): Date => {\n  const [year, month, day] = d.split('-')\n  return new Date(+year, +month - 1, +day);\n};\n\nconst nextDate = (initial: Date, n: number) => {\n  return new Date(initial.getTime() + 24 * 60 * 60 * 1000 * n);\n};\n\nexport default function MobileDisplay({ week, showWeekNumber }) {\n  const months = [\n    \"Jan\",\n    \"Feb\",\n    \"Mar\",\n    \"Apr\",\n    \"May\",\n    \"Jun\",\n    \"Jul\",\n    \"Aug\",\n    \"Sep\",\n    \"Oct\",\n    \"Nov\",\n    \"Dec\",\n  ];\n  const dates = useContext(DatesContext).map((d) => convertDate(d));\n\n  const newDate = dates[week];\n  const endDate =\n    week + 1 < dates.length\n      ? nextDate(dates[week + 1], -1)\n      : convertDate(\"2020-12-27\");\n\n  return (\n    <TextArea>\n      {showWeekNumber ? <Text>Week {week + 1}/52</Text> : null}\n      {newDate !== null ? (\n        <Text>\n          {months[newDate.getMonth()]} {newDate.getDate()} -{\" \"}\n          {months[endDate.getMonth()]} {endDate.getDate()}{\" \"}\n        </Text>\n      ) : null}\n    </TextArea>\n  );\n}\n","import React, { useEffect, useRef, useState } from \"react\";\nimport styled from \"styled-components\";\n\nimport * as d3 from \"d3\";\n\nimport Controls from \"../../global/controls\";\nimport Slider from \"./slider\";\nimport SliderWithEvents from \"./sliderWithEvents\";\nimport MobileDisplay from \"./mobileDisplay\";\n\nconst Container = styled.div<{ width: string; height: number }>`\n  width: ${({ width }: { width: string }) => width};\n  height: ${({ height }: { height: number }) => height}px;\n`;\n\ntype Props = {\n  week: number;\n  setWeek: (number) => void;\n  playing: boolean;\n  setPlaying: (b: boolean) => void;\n  showWeekNumber: boolean;\n  showEvents: boolean;\n  mobileMode: boolean;\n};\n\nconst TimeLine = ({\n  week,\n  setWeek,\n  playing,\n  setPlaying,\n  showWeekNumber,\n  showEvents,\n  mobileMode,\n}: Props) => {\n  const nationalEvents = [\n    {\n      date: \"2020-03-13\",\n      lab: \"National Emergency\",\n    },\n    {\n      date: \"2020-05-28\",\n      lab: \"100k Deaths\",\n    },\n  ];\n\n  return (\n    <Container\n      width={mobileMode ? \"100%\" : \"760px\"}\n      height={mobileMode ? 115 : showEvents ? 200 : 150}\n    >\n      {mobileMode ? (\n        <MobileDisplay week={week} showWeekNumber={showWeekNumber} />\n      ) : showEvents ? (\n        <SliderWithEvents\n          week={week}\n          setWeek={setWeek}\n          setPlaying={setPlaying}\n          showWeekNumber={showWeekNumber}\n          events={nationalEvents}\n        />\n      ) : (\n        <Slider\n          week={week}\n          setWeek={setWeek}\n          setPlaying={setPlaying}\n          showWeekNumber={showWeekNumber}\n          events={nationalEvents}\n        />\n      )}\n      <Controls\n        max={51}\n        week={week}\n        setWeek={setWeek}\n        playing={playing}\n        setPlaying={setPlaying}\n      />\n    </Container>\n  );\n};\n\nexport default TimeLine;\n","import React, { useEffect, useRef } from \"react\";\nimport styled from \"styled-components\";\n\nimport * as d3 from \"d3\";\n\nconst Container = styled.div`\n    display: flex;\n    width: 100%;\n    justify-content: flex-end;\n`\n\ntype Props = {\n  week: number;\n};\n\nexport default function TimeLineLegend({ week }: Props) {\n  const d3Container = useRef(null);\n\n  const maxHeight = 60;\n  const maxWidth = 370;\n  const margin = [20, 20];\n\n  const width = maxWidth;\n  const height = maxHeight;\n  useEffect(() => {\n    d3.select(d3Container.current).selectAll(\"*\").remove();\n\n    const leftMargin = 30;\n\n    const map_g = d3\n      .select(d3Container.current)\n      .style(\"width\", maxWidth)\n      .style(\"height\", maxHeight + 15)\n      // .style(\"background-color\", \"lightgray\")\n      .append(\"g\")\n      .attr(\"transform\", `translate(${leftMargin + margin[0]},0)`);\n\n    const xAxis = d3\n      .scaleLinear()\n      .domain([1, 52])\n      .range([0, maxWidth - 2 * margin[0] - leftMargin]);\n    const yAxis = d3\n      .scaleLinear()\n      .domain([0, 2])\n      .range([maxHeight - margin[1], 0]);\n\n    const pointData = [...Array(52 * 4).keys()].map((i) => {\n      return {\n        w: i / 4,\n        c: i % 2,\n      };\n    });\n    map_g\n      .append(\"g\")\n      .attr(\"transform\", `translate(0,${margin[1] + (maxHeight * 5) / 12})`)\n      .call(\n        d3.axisBottom(xAxis).ticks(5)\n        //   .tickFormat((i) => String(pointData[i - 1].w))\n      )\n      .style(\"display\", \"none\");\n\n    map_g\n      .append(\"g\")\n      .attr(\"transform\", `translate(${0},0)`)\n      .call(d3.axisLeft(yAxis))\n      .style(\"display\", \"none\");\n\n    map_g\n      .selectAll(\"rect\")\n      .remove()\n      .data(pointData)\n      .enter()\n      .append(\"rect\")\n      .attr(\"class\", \"point\")\n      .attr(\"x\", ({ w }) => xAxis(w))\n      .attr(\"y\", ({ c }) => yAxis(c) - 5)\n      .attr(\"width\", 3)\n      .attr(\"height\", 15)\n      .attr(\"stroke\", \"none\") //({ c }) => (c === 1 ? \"#fa5a50\" : \"#5768ac\"))\n      // .attr(\"stroke-opacity\", ({ w }) => w / 52)\n      // .attr(\"stroke-width\", 0)\n      .attr(\"fill\", ({ c }) => (c === 1 ? \"#fa5a50\" : \"#5768ac\"))\n      .attr(\"fill-opacity\", ({ w }) => w / 52);\n\n    // map_g\n    //   .append(\"text\")\n    //   .attr(\"text-anchor\", \"end\")\n    //   .attr(\"x\", maxWidth / 2 + leftMargin)\n    //   .attr(\"y\", (maxHeight + margin[1] / 2))\n    //   .text(\"Week Number\");\n\n    map_g\n      .append(\"text\")\n      .attr(\"text-anchor\", \"middle\")\n      .attr(\"x\", xAxis(1))\n      .attr(\"y\", maxHeight + margin[1] / 2)\n      .text(\"Past\");\n\n    map_g\n      .append(\"text\")\n      .attr(\"text-anchor\", \"middle\")\n      .attr(\"x\", xAxis(50))\n      .attr(\"y\", maxHeight + margin[1] / 2)\n      .text(\"Recent\");\n\n    map_g\n      .append(\"text\")\n      .attr(\"text-anchor\", \"end\")\n      .attr(\"x\", -leftMargin / 2)\n      .attr(\"y\", maxHeight / 3 + margin[1] / 4)\n      .text(\"Hot\");\n\n    map_g\n      .append(\"text\")\n      .attr(\"text-anchor\", \"end\")\n      .attr(\"x\", -leftMargin / 2)\n      .attr(\"y\", (maxHeight * 2) / 3 + margin[1] / 4)\n      .text(\"Cold\");\n  }, []);\n\n  return (\n    <Container>\n      <svg ref={d3Container}></svg>\n    </Container>\n  );\n}\n","import React, { useEffect, useContext, useState, useRef } from \"react\";\nimport styled from \"styled-components\";\n\nimport * as d3 from \"d3\";\n\nimport counties from \"us-atlas/counties-10m.json\";\n\nimport { LisaContext } from \"../../contexts/lisaContext\";\nimport { Maps } from \"../../contexts/mapsContext\";\n\nimport Sparse from \"../../utility/sparse\";\nimport Map2 from \"./map2\";\nimport TimeLine from \"./timeline/timeline\";\nimport TimeLineOld from \"./timelineOld\";\nimport MapZoom from \"../../utility/mapZoom\";\nimport TimeLineLegend from \"./timelinelegend\";\n\nimport Controls from \"./controls\";\n\ntype Data = Array<Sparse>;\n\ntype MapSettings = {\n  width: number;\n  height: number;\n  translate: [number, number];\n  scale: number;\n};\n\nconst ControlArea = styled.div`\n  display: flex;\n  width: 100%;\n  justify-content: space-between;\n  flex-wrap: wrap;\n`;\n\nconst ControlsContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin: 0 15px;\n\n  @media (max-width: 860px) {\n    justify-content: center;\n    width: 100%;\n  }\n`;\n\nconst ColdLegend = styled.p`\n  //  background-color: rgba(0, 0, 255, 0.4);\n  background-color: #5768acaa;\n`;\n\nconst HotLegend = styled.p`\n  //  background-color: rgba(255, 0, 0, 0.4);\n  background-color: #fa5a50aa;\n`;\n\nconst Legend = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  & > * {\n    margin: 5px;\n    padding: 5px;\n  }\n`;\n\nconst LegendContainer = styled.div`\n  width: 100%;\n  display: flex;\n  justify-content: flex-end;\n\n  @media (max-width: 762px) {\n    justify-content: center;\n  }\n`;\n\ntype Props = {\n  selectedCounty: [number, string];\n  setSelectedCounty: ([s1, s2]: [number, string]) => void;\n  MapSettings: MapSettings;\n  time: [number, number];\n  setTime: ([n1, n2]: [number, number]) => void;\n  week: number;\n  setWeek: (n: number) => void;\n  selectedState: [number, string];\n  setSelectedState: ([a, b]: [number, string]) => void;\n  width: boolean;\n};\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst TextContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  max-width: 650px;\n\n  & > h1 {\n    margin: 5px 15px 0 15px;\n  }\n`;\n\nconst Text = styled.p`\n  margin: 5px 15px;\n`;\n\nconst Divider = styled.hr`\n  width: 98%;\n  height: 1px;\n  background-color: black;\n  border-radius: 1px;\n  margin: 5px 10px;\n`;\n\nconst MapContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n\n  width: 100%;\n  flex-wrap: wrap;\n\n  @media (max-width: 770px) {\n    flex-wrap: wrap;\n  }\n`;\nconst Button = styled.button`\n  border-radius: 10px;\n  height: 30px;\n  width: 60px;\n  cursor: pointer;\n`;\n\nconst CheckBox = styled.div`\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  width: 180px;\n`;\n\nconst Row = styled.div`\n  margin: 0 3px;\n\n  input {\n    cursor: pointer;\n  }\n`;\n\nconst Title = styled.h3`\n  margin: 3px 15px;\n  white-space: nowrap;\n`;\nexport default function MapView({\n  selectedCounty,\n  setSelectedCounty,\n  MapSettings,\n  time,\n  setTime,\n  week,\n  setWeek,\n  selectedState,\n  setSelectedState,\n  width,\n}: Props) {\n  const [past, setPast] = useState(false);\n\n  const { mapData, mapTitles } = useContext(LisaContext);\n\n  const [playing, setPlaying] = useState(false);\n\n  const [mapZoom, setMapZoom] = useState(Array<MapZoom>(4));\n\n  const [showWeekNumber, setShowWeekNumber] = useState(false);\n\n  const [showEvents, setShowEvents] = useState(false);\n\n  const addState = (m: MapZoom, i) => {\n    mapZoom[i] = m;\n    setMapZoom(mapZoom);\n  };\n\n  const stateSelector = (\n    [id, name]: [number, string],\n    reset: boolean = false\n  ) => {\n    let zooming: boolean;\n\n    mapZoom.forEach((m) => {\n      if (!reset && id !== m.currId && id !== -1) {\n        m.select(id);\n        zooming = true;\n      } else {\n        m.reset();\n        zooming = false;\n      }\n    });\n\n    if (zooming) {\n      setSelectedState([id, name]);\n      return true;\n    } else {\n      setSelectedState([-1, \"\"]);\n      return false;\n    }\n  };\n\n  useEffect(() => {\n    if (!playing) {\n      return;\n    }\n\n    const timer = setInterval(() => {\n      if (week < 51) {\n        setWeek(week + 1);\n      }\n    }, 500);\n    return () => clearInterval(timer);\n  }, [playing, week]);\n\n  return (\n    <Container>\n      <ControlArea>\n        <TextContainer>\n          <Text>\n            The <i>cumulative map</i> option shows all of the counties that were once a\n            hotspot or coldspot up to the current date on the timeline. Hotspots\n            or coldspots on the current week are shaded a darker color while\n            past values become lighter as more weeks go by.\n          </Text>\n          <Text>\n            {\" \"}\n            The <i>show timeline events</i> option highlights a few national level\n            events that give context on the state of the pandemic. These events\n            are placed on top of the timeline and their text color is darkened\n            as you pass by them.\n          </Text>\n          {selectedState[0] === -1 ? (\n            <Text><b>Click on a state to zoom in.</b></Text>\n          ) : (\n            <Title>Selected State: {selectedState[1]}</Title>\n          )}\n        </TextContainer>\n        <ControlsContainer>\n          <CheckBox>\n            <form>\n              <Row>\n                <input\n                  type=\"checkbox\"\n                  id=\"Cumulative\"\n                  onChange={() => setPast(!past)}\n                  checked={past}\n                ></input>\n                <label htmlFor=\"Cumulative\">Cumulative Map</label>\n              </Row>\n              <Row>\n                <input\n                  type=\"checkbox\"\n                  id=\"ShowWeek\"\n                  onChange={() => setShowWeekNumber(!showWeekNumber)}\n                  checked={showWeekNumber}\n                ></input>\n                <label htmlFor=\"ShowWeek\">Show Week Number</label>\n              </Row>\n              {!width ? (\n                <Row>\n                  <input\n                    type=\"checkbox\"\n                    id=\"ShowEvents\"\n                    onChange={() => setShowEvents(!showEvents)}\n                    checked={showEvents}\n                  ></input>\n                  <label htmlFor=\"ShowEvents\">Timeline Events</label>\n                </Row>\n              ) : null}\n            </form>\n          </CheckBox>\n          <Button\n            onClick={() => {\n              stateSelector([-1, \"\"]);\n              setWeek(0);\n              setPast(false);\n              setPlaying(false);\n              setShowWeekNumber(false);\n              setShowEvents(false);\n            }}\n          >\n            Reset\n          </Button>\n        </ControlsContainer>\n      </ControlArea>\n      <Divider />\n      {past ? (\n        <TimeLineLegend week={week} />\n      ) : (\n        <LegendContainer>\n          <Legend>\n            <HotLegend>Hot Spot</HotLegend>\n            <ColdLegend>Cold Spot</ColdLegend>\n          </Legend>\n        </LegendContainer>\n      )}\n      <Maps>\n        <MapContainer>\n          {mapTitles.map((title, i) => {\n            return (\n              <Map2\n                key={i}\n                title={title}\n                highlightedCounty={selectedCounty}\n                countySelector={setSelectedCounty}\n                selectedState={selectedState}\n                stateSelector={stateSelector}\n                addState={(m: MapZoom) => addState(m, i)}\n                time={time}\n                data={mapData ? mapData[i] : null}\n                weekNum={week}\n                MapSettings={MapSettings}\n                past={past}\n              >\n                {i === 3\n                  ? null\n                  : // <Legend>\n                    //   <HotLegend>Hot Spot</HotLegend>\n                    //   <ColdLegend>Cold Spot</ColdLegend>\n                    // </Legend>\n                    null}\n              </Map2>\n            );\n          })}\n        </MapContainer>\n      </Maps>\n      <TimeLine\n        week={week}\n        setWeek={setWeek}\n        playing={playing}\n        setPlaying={setPlaying}\n        showWeekNumber={showWeekNumber}\n        showEvents={showEvents}\n        mobileMode={width}\n      />\n    </Container>\n  );\n}\n","import React, { useContext } from \"react\";\nimport styled from \"styled-components\";\nimport { LisaContext } from \"../../contexts/lisaContext\";\n\nimport { graphql, StaticQuery } from \"gatsby\";\nimport counties from \"us-atlas/counties-10m.json\";\nimport { rgb } from \"d3-color\";\n\nconst OutsideContainer = styled.div`\n  height: 100%;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  margin-top: 20px;\n`;\n\nconst Container = styled.div`\n  display: block;\n  height: 100%;\n  overflow-x: auto;\n\n  width: 800px;\n\n  @media (max-width: 800px) {\n    width: 100%;\n  }\n`;\n\nconst MainTable = styled.table`\n  border-collapse: collapse;\n  width: 100%;\n`;\n\nconst THead = styled.thead``;\n\nconst THGroup = styled.th`\n  text-align: center;\n  ${({ underLine }: { underLine: boolean }) => {\n    return underLine\n      ? \"border-bottom: 1px solid black; border-left: 20px solid white; border-right: 20px solid white;\"\n      : null;\n  }}\n`;\n\nconst TH = styled.th`\n  min-width: 100px !important;\n  text-align: center;\n  border-bottom: 1px solid black;\n`;\n\nconst TData = styled.td`\n  background-color: ${({ highlight }: { highlight: string }) => {\n    if (highlight === \"hot\") {\n      return \"#fa5a50AA\";\n    } else if (highlight === \"cold\") {\n      return \"#5768acAA\";\n    }\n    return \"#FFFFFF00\";\n  }};\n  padding: 0;\n  margin: 0;\n`;\n\nconst TRow = styled.tr``;\n\nconst TBody = styled.tbody`\n  ${TRow} > *:nth-child(2n+1) {\n    width: 10px;\n    padding: 2px;\n  }\n\n  ${TRow} > * {\n    text-align: right;\n  }\n\n  & > ${TRow}:hover {\n    background-color: #d3d3d3;\n  }\n\n  ${TRow} > *:nth-child(2n) {\n    width: 100px;\n  }\n\n  ${TRow} > *:nth-child(1) {\n    width: 130px;\n    text-align: left;\n    border-right: 1px solid black;\n  }\n\n  ${TRow} > *:nth-child(3) {\n    // secondary line\n    // border-right: 1px solid lightgray;\n  }\n\n  ${TRow} > *:nth-child(7) {\n    // secondary line\n    // border-right: 1px solid lightgray;\n  }\n\n  ${TRow} > *:nth-child(5) {\n    border-right: 1px solid black;\n  }\n\n  ${TRow} {\n    border-bottom: 1px solid rgb(205, 205, 205);\n  }\n\n  ${TRow}:last-child {\n    border-bottom: 1px solid black;\n  }\n`;\n\nconst ColdLegend = styled.p`\n  //  background-color: rgba(0, 0, 255, 0.4);\n  background-color: #5768acaa;\n`;\n\nconst HotLegend = styled.p`\n  //  background-color: rgba(255, 0, 0, 0.4);\n  background-color: #fa5a50aa;\n`;\n\nconst LegendContainer = styled.div`\n  display: flex;\n  width: 800px;\n  margin: 5px 0;\n\n  @media (max-width: 800px) {\n    width: 100%;\n  }\n  justify-content: space-between;\n`;\n\nconst Legend = styled.div`\n  display: flex;\n  align-items: flex-start;\n\n  & > * {\n    margin: 5px;\n    padding: 5px;\n  }\n`;\n\nconst LegendAsterisk = styled.p`\n  margin: 5px;\n`;\n\ntype Props = {\n  selectedState: [number, string];\n  week: number;\n};\n\nconst getStateFips = (fips: number): number => {\n  return Number(String(fips).slice(0, -3));\n};\n\nexport default function Table({ selectedState, week }: Props) {\n  const { mapData, mapTitles } = useContext(LisaContext);\n  return (\n    <OutsideContainer>\n      <Container>\n        <MainTable>\n          <THead>\n            <TRow>\n              <THGroup underLine={false}>Counties of</THGroup>\n              <THGroup colSpan={4} underLine={true}>\n                Mobility\n              </THGroup>\n              <THGroup colSpan={4} underLine={true}>\n                Sheltered\n              </THGroup>\n            </TRow>\n            <TRow>\n              <TH>{selectedState[1]}</TH>\n              <TH colSpan={2}>Cuebiq*</TH>\n              <TH colSpan={2}>SafeGraph</TH>\n              <TH colSpan={2}>Cuebiq</TH>\n              <TH colSpan={2}>SafeGraph</TH>\n            </TRow>\n          </THead>\n          <TBody>\n            <StaticQuery\n              query={graphql`\n                {\n                  allRawCsv {\n                    nodes {\n                      cm\n                      cs\n                      fips\n                      sm\n                      ss\n                      week\n                    }\n                  }\n                }\n              `}\n              render={({ allRawCsv: { nodes } }) => {\n                return nodes\n                  .filter(\n                    (node) =>\n                      Number(node.week) - 1 === week &&\n                      getStateFips(node.fips) === selectedState[0]\n                  )\n                  .map(({ fips, cm, cs, sm, ss }, i) => {\n                    const cmVec = mapData[0].find(\n                      (d) => d.fips === Number(fips)\n                    );\n                    const cmVal = cmVec !== undefined ? cmVec.get(week) : 0;\n\n                    const csVec = mapData[1].find(\n                      (d) => d.fips === Number(fips)\n                    );\n                    const csVal = csVec !== undefined ? csVec.get(week) : 0;\n\n                    const smVec = mapData[2].find(\n                      (d) => d.fips === Number(fips)\n                    );\n                    const smVal = smVec !== undefined ? smVec.get(week) : 0;\n\n                    const ssVec = mapData[3].find(\n                      (d) => d.fips === Number(fips)\n                    );\n                    const ssVal = ssVec !== undefined ? ssVec.get(week) : 0;\n\n                    return (\n                      <TRow key={fips}>\n                        <TData highlight=\"none\">\n                          {\n                            counties.objects.counties.geometries.find(\n                              ({ id }) => Number(id) === Number(fips)\n                            ).properties.name\n                          }\n                        </TData>\n                        <>\n                          <TData\n                            highlight={\n                              cmVal === 1\n                                ? \"hot\"\n                                : cmVal === 2\n                                ? \"cold\"\n                                : \"none\"\n                            }\n                          >\n                            {cm}\n                            {/*\n                          \n                          UGHHHHHHHHHH neither seems to work ??? \n\n                          https://help.cuebiq.com/hc/en-us/articles/360041285051-Cuebiq-s-COVID-19-Mobility-Index-CMI-#:~:text=Cuebiq's%20Mobility%20Index%20Analysis%20is,movement%20within%20respective%20geographical%20areas. \n                          */}\n                            {/*Math.round(cm * Math.pow(10, Math.floor(cm)) / 1000)*/}\n                            {/*Math.round((Math.pow(10, cm) - 1) / 1000)*/}\n                          </TData>\n                          <TData\n                            highlight={\n                              cmVal === 1\n                                ? \"hot\"\n                                : cmVal === 2\n                                ? \"cold\"\n                                : \"none\"\n                            }\n                          ></TData>\n                        </>\n                        <>\n                          <TData\n                            highlight={\n                              smVal === 1\n                                ? \"hot\"\n                                : smVal === 2\n                                ? \"cold\"\n                                : \"none\"\n                            }\n                          >\n                            {Number(sm) / 1000}\n                          </TData>\n                          <TData\n                            highlight={\n                              smVal === 1\n                                ? \"hot\"\n                                : smVal === 2\n                                ? \"cold\"\n                                : \"none\"\n                            }\n                          >\n                            {i === 0 ? \"km\" : \"\"}\n                          </TData>\n                        </>\n                        <>\n                          <TData\n                            highlight={\n                              csVal === 1\n                                ? \"hot\"\n                                : csVal === 2\n                                ? \"cold\"\n                                : \"none\"\n                            }\n                          >\n                            {cs}\n                          </TData>\n                          <TData\n                            highlight={\n                              csVal === 1\n                                ? \"hot\"\n                                : csVal === 2\n                                ? \"cold\"\n                                : \"none\"\n                            }\n                          >\n                            {i === 0 ? \"%\" : \"\"}\n                          </TData>\n                        </>\n                        <>\n                          <TData\n                            highlight={\n                              ssVal === 1\n                                ? \"hot\"\n                                : ssVal === 2\n                                ? \"cold\"\n                                : \"none\"\n                            }\n                          >\n                            {ss}\n                          </TData>\n                          <TData\n                            highlight={\n                              ssVal === 1\n                                ? \"hot\"\n                                : ssVal === 2\n                                ? \"cold\"\n                                : \"none\"\n                            }\n                          >\n                            {i === 0 ? \"%\" : \"\"}\n                          </TData>\n                        </>\n                      </TRow>\n                    );\n                  });\n              }}\n            />\n          </TBody>\n        </MainTable>\n      </Container>\n      <LegendContainer>\n        <LegendAsterisk>* Cuebiq mobility value is an index.</LegendAsterisk>\n        <Legend>\n          <HotLegend>Hot Spot</HotLegend>\n          <ColdLegend>Cold Spot</ColdLegend>\n        </Legend>\n      </LegendContainer>\n    </OutsideContainer>\n  );\n}\n","import React, { useState, useRef, useEffect } from \"react\";\nimport { useMediaQuery } from \"beautiful-react-hooks\";\nimport styled from \"styled-components\";\nimport { Link } from \"gatsby\";\n\nimport Page from \"../components/page\";\nimport MapView2 from \"../components/bivar/mapView2\";\nimport Table from \"../components/bivar/table\";\n\nimport Sparse from \"../utility/sparse\";\nimport MapZoom from \"../utility/mapZoom\";\n\n// import CreateMap from \"../components/bivar/createMap\";\n\nconst Container = styled.div`\n  width: 100%;\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n`;\n\nconst TextContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: start;\n  width: 100%;\n\n  & > h1 {\n    margin: 10px 15px 0 15px;\n  }\n`;\n\nconst Divider = styled.hr`\n  width: 98%;\n  height: 1px;\n  background-color: black;\n  border-radius: 1px;\n  margin: 5px 10px;\n`;\nconst Text = styled.p`\n  margin: 5px 15px;\n`;\n\nconst width = 380;\nconst height = 250;\nconst mapsTranslate: [number, number] = [width / 2 - 5, height / 2];\nconst mapsScale = 500;\n\nconst MapSettings = {\n  width: width - 10,\n  height,\n  translate: mapsTranslate,\n  scale: mapsScale,\n};\n\nconst Bivariate = () => {\n  const [selectedCounty, setSelectedCounty] = useState<[number, string]>([\n    -1,\n    \"\",\n  ]);\n\n  const [time, setTime] = useState<[number, number]>([0, 52]);\n\n  const [week, setWeek] = useState(0);\n  const [selectedState, setSelectedState] = useState<[number, string]>([\n    -1,\n    \"\",\n  ]);\n\n  // const [MapCreator, _] = useState(new CreateMap());\n\n  const container = useRef(null);\n  const width = useMediaQuery(\"(max-width: 750px)\");\n\n  return (\n    <Page selectedPage=\"Animation\">\n      <Container ref={container}>\n        <TextContainer>\n          <h1>Animated Spatial Clustering</h1>\n          <Text>\n            This page has four animated choropleth maps that show the spatial\n            clustering in our variables for each week in 2020. Counties\n            classified as hotspots are colored red and counties classified as\n            coldspots are colored blue. For more information on how counties are\n            classified as hotspots or coldspots see the{\" \"}\n            <Link to=\"/\">About Page</Link>.\n          </Text>\n          <Text>\n            The top row of plots includes data from Cuebiq while the bottom row\n            is from Safegraph. The column on the left shows the sources'\n            measures of mobility while the column on the right is of measures of\n            sheltering. If all of these variables are showing the same\n            phenomenon then we would expect the same patterns in the each column\n            and inverted colors across the rows. However, one of the points to\n            be made by comparing different variables and different sources is\n            that they don't show the exact same patterns which could lead to\n            different predictions in models using different data.\n          </Text>\n        </TextContainer>\n        <Divider />\n        <MapView2\n          MapSettings={MapSettings}\n          selectedCounty={selectedCounty}\n          setSelectedCounty={setSelectedCounty}\n          time={time}\n          setTime={setTime}\n          week={week}\n          setWeek={setWeek}\n          selectedState={selectedState}\n          setSelectedState={setSelectedState}\n          width={width}\n        />\n        <Divider />\n        {selectedState[0] !== -1 ? (\n          <>\n            <TextContainer>\n              <Text>\n                The table below shows the individual values that were used in\n                the Local Moran test to calculate if a county was a hotspot or\n                coldspot in the current week. This table just shows the counties\n                in the selected state although the Local Moran test was run\n                using every county in the US.\n              </Text>\n            </TextContainer>\n            <Table selectedState={selectedState} week={week} />\n          </>\n        ) : (\n          <TextContainer>\n            <Text>\n              Click on a state above to see a table of the state's county\n              values.\n            </Text>\n          </TextContainer>\n        )}\n        <TextContainer>\n          <Text>\n            One of the first things to notice is how sparse the classifications\n            are in Safegraph's mobility measure in the column on the left. If\n            you turn on the cumulative map option and play the animation to the\n            end, we can see all of the counties that were once classified in the\n            year. While the other three maps are mostly colored in, this map has\n            more counties that were never significant.\n          </Text>\n          <Text>\n            On the 13th week, 3/23-3/29, we can see an abrupt change in the\n            maps. These dates correspond to just after the declaration of a\n            national emergency which is listed on the timeline events. In all of\n            the weeks leading up to these dates, we see a large number of\n            counties classified as coldspots in Cuebiq mobility and hotspots in\n            the sheltered column, particularly in the west, which go away as the\n            pandemic begins. However, particularly in the South around\n            Mississippi and Alabama, we don't see this change as the\n            classification of these counties remain constant throughout the year.\n          </Text>\n        </TextContainer>\n      </Container>\n    </Page>\n  );\n};\n\nexport default Bivariate;\n","import * as d3 from \"d3\"\n\nexport default class MapZoom {\n    active = d3.select(null);\n    path = null\n    g = null\n    width = 0\n    height = 0\n    currId = -1\n\n    constructor(path, g, width, height, id) {\n        this.path = path\n        this.g = g;\n        this.width = width\n        this.height = height\n        this.currId = id\n    }\n\n    /*\n        Zoom in from id\n    */\n    select(id: number) {\n        this.currId = id;\n\n        const clicked = this.g.select(`[stateFips='${id}']`);\n\n        // // this.active.classed(\"active\", false);\n        // // this.active = clicked.classed(\"active\", true);\n\n        let d;\n        clicked.attr('x', (_d, i) => {\n            d = _d\n        })\n\n        const [[x0, y0], [x1, y1]] = this.path.bounds(d);\n\n        const dx = x1 - x0;\n        const dy = y1 - y0;\n        const x = (x0 + x1) / 2;\n        const y = (y0 + y1) / 2;\n\n        // const box = d.node().getBBox()\n\n        // const dx = box.width\n        // const dy = box.height\n        // const x = box.x + box.width / 2\n        // const y = box.y + box.height / 2\n\n        // console.log(x, y, dx, dy)\n\n        const scaleNew = 0.8 / Math.max(dx / this.width, dy / this.height);\n        const translateNew = [this.width / 2 - scaleNew * x, this.height / 2 - scaleNew * y]\n\n        this.g\n            .transition()\n            .duration(650)\n            .attr(\"transform\", `translate(${translateNew}) scale(${scaleNew})`)\n\n        return scaleNew\n    }\n\n    /*\n        On click event handler,\n\n\n        not used, WON'T WORK ANYMORE\n    */\n    clicked(clicked, d) {\n        const stateId = clicked.getAttribute(\"id\")\n        // const states = d3.selectAll(`[id='${stateId}']`)\n\n        if (this.active.node() === clicked) {\n            return this.reset();\n        }\n\n        this.active.classed(\"active\", false);\n        this.active = d3.select(clicked).classed(\"active\", true);\n\n        const [[x0, y0], [x1, y1]] = this.path.bounds(d);\n\n        const dx = x1 - x0;\n        const dy = y1 - y0;\n        const x = (x0 + x1) / 2;\n        const y = (y0 + y1) / 2;\n\n        const scaleNew = 0.7 / Math.max(dx / this.width, dy / this.height);\n        const translateNew = [this.width / 2 - scaleNew * x, this.height / 2 - scaleNew * y]\n\n        this.g\n            .transition()\n            .duration(650)\n            .attr(\"transform\", `translate(${translateNew}) scale(${scaleNew})`)\n\n        return stateId\n    }\n\n    /*\n        Reset map view\n    */\n    reset() {\n        this.currId = \"\"\n        this.active.classed(\"active\", false);\n        this.active = d3.select(null);\n\n        this.g\n            .transition()\n            .duration(500)\n            .attr(\"transform\", `translate(0)`)\n    }\n}"],"sourceRoot":""}